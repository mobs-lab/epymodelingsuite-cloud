# Environment variables for the epymodelingsuite-cloud pipeline
# Copy this to .env and fill in your values
# Source with: source .env

# Google Cloud Infrastructure
export PROJECT_ID=your-gcp-project-id
export REGION=us-central1
export REPO_NAME=epymodelingsuite-repo
export BUCKET_NAME=your-bucket-name

# Docker image configuration
export IMAGE_NAME=epymodelingsuite
export IMAGE_TAG=latest

# GitHub Private Repositories
# Forecast data repository (format: owner/repo)
export GITHUB_FORECAST_REPO=owner/forecasting-repo

# Modeling suite package repository (format: owner/repo)
export GITHUB_MODELING_SUITE_REPO=owner/modeling-suite-repo
# Branch or commit to build from
export GITHUB_MODELING_SUITE_REF=main

# Workflow run parameters
export DIR_PREFIX=pipeline/flu/
export MAX_PARALLELISM=100

# Batch machine configuration - Stage A (Dispatcher)
export STAGE_A_CPU_MILLI=2000
export STAGE_A_MEMORY_MIB=4096
export STAGE_A_MACHINE_TYPE=""  # Optional: e2-standard-2, n2-standard-4, etc. Empty = auto-select

# Batch machine configuration - Stage B (Runner)
export STAGE_B_CPU_MILLI=2000
export STAGE_B_MEMORY_MIB=8192
export STAGE_B_MACHINE_TYPE=""  # Optional: leave empty for auto-selection

# EXP_ID is required when running the pipeline.
# EXP_ID=my-experiment-id make run-workflow

# Note: GitHub PAT should be stored in Secret Manager (for cloud) or in .env.local
# DO NOT store it in this file
# Create secret: echo -n "your_pat" | gcloud secrets create github-pat --data-file=-
